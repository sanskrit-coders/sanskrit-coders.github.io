<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>संस्कृत-साङ्गणकाः Sanskrit Programmers  | Py Unicode</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.143.0">
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    <link href="/tips/py-unicode/" rel="alternate" type="application/rss+xml" title="संस्कृत-साङ्गणकाः Sanskrit Programmers" />
    <link href="/tips/py-unicode/" rel="feed" type="application/rss+xml" title="संस्कृत-साङ्गणकाः Sanskrit Programmers" />

    <meta property="og:url" content="https://sanskrit-coders.github.io/tips/py-unicode/">
  <meta property="og:site_name" content="संस्कृत-साङ्गणकाः Sanskrit Programmers">
  <meta property="og:title" content="Py Unicode">
  <meta property="og:description" content="[ Culled from emails by shreevatsa and anubhav. ]
General tips Detailed information You canread thisor the introductionsection hereto get a rough understanding of the issues involved, as I mentioned before onthis mailing list here.] Handling text correctly Getting Unicode right in Python When programming in Python, always remain aware of whether a particular object is “unicode” (code points) or “str” (bytes). Basically, Unicode code points logically represent a character (like “092E: DEVANAGARI LETTER MA”), independent of encoding. Python contains both “unicode” objects that are these, or the C-like representation of the actual bytes used to represent the characters **in some encoding**. General info: This is like Java’s “string” and “bytes” types (see here). Use unicode internally Always use the “unicode” type internally. So: As soon as you see some input from the external world, decode it immediately [e.g. for a file, the stream of bytes it contains may represent a stream of characters in the ‘utf-8’ encoding, so decode from the file into ‘unicode’ characters whenever you read from it], and To this end, I’ve taken to putting
“from __future__ import unicode_literals”
at the top of my Python programs, so that whenever I write a line of code like
s = ‘hello world’
it is equivalent to writing
s = u’hello world’
That is, so that all literals are interpreted as Unicode by default. This is the default in Python 3. Outputting stuff whenever you write something to output (even “standard output”), always encode it and write out the actual stream of bytes to the output, so that there can be no confusion. By using |tee, you’re relying on the shell to handle the encoding issues. That’s bound to end in disaster, unless you understand how your shell handles Unicode. File input csv reading: use unicodecsv.reader instead of csv. Confusingly, it looks like unicodecsv.reader expects the file to be opened in the default encoding, not UTF-8. Grapheme cluster handling See here.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="tips">

  <meta itemprop="name" content="Py Unicode">
  <meta itemprop="description" content="[ Culled from emails by shreevatsa and anubhav. ]
General tips Detailed information You canread thisor the introductionsection hereto get a rough understanding of the issues involved, as I mentioned before onthis mailing list here.] Handling text correctly Getting Unicode right in Python When programming in Python, always remain aware of whether a particular object is “unicode” (code points) or “str” (bytes). Basically, Unicode code points logically represent a character (like “092E: DEVANAGARI LETTER MA”), independent of encoding. Python contains both “unicode” objects that are these, or the C-like representation of the actual bytes used to represent the characters **in some encoding**. General info: This is like Java’s “string” and “bytes” types (see here). Use unicode internally Always use the “unicode” type internally. So: As soon as you see some input from the external world, decode it immediately [e.g. for a file, the stream of bytes it contains may represent a stream of characters in the ‘utf-8’ encoding, so decode from the file into ‘unicode’ characters whenever you read from it], and To this end, I’ve taken to putting
“from __future__ import unicode_literals”
at the top of my Python programs, so that whenever I write a line of code like
s = ‘hello world’
it is equivalent to writing
s = u’hello world’
That is, so that all literals are interpreted as Unicode by default. This is the default in Python 3. Outputting stuff whenever you write something to output (even “standard output”), always encode it and write out the actual stream of bytes to the output, so that there can be no confusion. By using |tee, you’re relying on the shell to handle the encoding issues. That’s bound to end in disaster, unless you understand how your shell handles Unicode. File input csv reading: use unicodecsv.reader instead of csv. Confusingly, it looks like unicodecsv.reader expects the file to be opened in the default encoding, not UTF-8. Grapheme cluster handling See here.">
  <meta itemprop="wordCount" content="322">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Py Unicode">
  <meta name="twitter:description" content="[ Culled from emails by shreevatsa and anubhav. ]
General tips Detailed information You canread thisor the introductionsection hereto get a rough understanding of the issues involved, as I mentioned before onthis mailing list here.] Handling text correctly Getting Unicode right in Python When programming in Python, always remain aware of whether a particular object is “unicode” (code points) or “str” (bytes). Basically, Unicode code points logically represent a character (like “092E: DEVANAGARI LETTER MA”), independent of encoding. Python contains both “unicode” objects that are these, or the C-like representation of the actual bytes used to represent the characters **in some encoding**. General info: This is like Java’s “string” and “bytes” types (see here). Use unicode internally Always use the “unicode” type internally. So: As soon as you see some input from the external world, decode it immediately [e.g. for a file, the stream of bytes it contains may represent a stream of characters in the ‘utf-8’ encoding, so decode from the file into ‘unicode’ characters whenever you read from it], and To this end, I’ve taken to putting
“from __future__ import unicode_literals”
at the top of my Python programs, so that whenever I write a line of code like
s = ‘hello world’
it is equivalent to writing
s = u’hello world’
That is, so that all literals are interpreted as Unicode by default. This is the default in Python 3. Outputting stuff whenever you write something to output (even “standard output”), always encode it and write out the actual stream of bytes to the output, so that there can be no confusion. By using |tee, you’re relying on the shell to handle the encoding issues. That’s bound to end in disaster, unless you understand how your shell handles Unicode. File input csv reading: use unicodecsv.reader instead of csv. Confusingly, it looks like unicodecsv.reader expects the file to be opened in the default encoding, not UTF-8. Grapheme cluster handling See here.">
<script type="text/javascript">
    
    let baseURL = "https:\/\/sanskrit-coders.github.io\/";
    let basePath = "/" + baseURL.split("/").slice(3).join("/");
    let siteParams = JSON.parse("{\u0022build_img\u0022:\u0022https:\/\/github.com\/sanskrit-coders\/sanskrit-coders.github.io\/actions\/workflows\/build.yml\/badge.svg\u0022,\u0022build_url\u0022:\u0022https:\/\/github.com\/sanskrit-coders\/sanskrit-coders.github.io\/actions\/workflows\/build.yml\u0022,\u0022contactlink\u0022:\u0022https:\/\/github.com\/sanskrit-coders\/sanskrit-coders.github.io\/issues\/new\u0022,\u0022env\u0022:\u0022production\u0022,\u0022githubeditmepathbase\u0022:\u0022https:\/\/github.com\/sanskrit-coders\/sanskrit-coders.github.io\/edit\/hugo-source\/content\/\u0022}");
    let pageDefaultsList = JSON.parse("[{\u0022scope\u0022:{\u0022pathPrefix\u0022:\u0022\u0022},\u0022values\u0022:{\u0022comments\u0022:true,\u0022layout\u0022:\u0022page\u0022,\u0022search\u0022:true,\u0022sidebar\u0022:\u0022home_sidebar\u0022}}]");
    let sidebarsData = JSON.parse("{\u0022home_sidebar\u0022:{\u0022contents\u0022:[{\u0022url\u0022:\u0022recdir:\/\/\u0022},{\u0022title\u0022:\u0022\\u003ci class=\\\u0022fas fa-hand-holding-heart\\\u0022\\u003e\\u003c\/i\\u003eDonate\u0022,\u0022url\u0022:\u0022https:\/\/vishvAsa.github.io\/interests\/dharma-via-vishvas\/\u0022}],\u0022title\u0022:\u0022Parts\u0022},\u0022topnav\u0022:{\u0022contents\u0022:[{\u0022title\u0022:\u0022Tools\u0022,\u0022url\u0022:\u0022\/pages\/index.html\u0022},{\u0022title\u0022:\u0022Blog\u0022,\u0022url\u0022:\u0022\/pages\/blog\/index.html\u0022}],\u0022title\u0022:\u0022Parts\u0022}}");
    
    var pageRelUrlTree = {};
</script>

    
    <script type="text/javascript">
  let pageVars = {};
  pageVars.pageUrlMinusBasePath = "\/tips\/py-unicode\/".replace(basePath, "/");
  pageVars.pageParams = {};
  pageVars.pageSource = "tips\/py-unicode.md";
  console.log(pageVars.pageSource);
  var pageDefaults;
  for (let possiblePageDefaults of pageDefaultsList) {
    if (pageVars.pageSource.startsWith(possiblePageDefaults.scope.pathPrefix)) {
      pageDefaults = possiblePageDefaults.values
    }
  }
    
</script>


    <script src="/webpack_dist/uiLib-bundle.js"></script>







    <link rel="stylesheet" href="/webpack_dist/uiLib.css">
<link rel="stylesheet" href="/css/uiLibPrint.css" media="print" >
<link rel="stylesheet" href="/css/fonts.css" >
<link rel="stylesheet" href="/css/@fortawesome/fontawesome-free/css/solid.min.css">

<link rel="stylesheet" href="/css/@fortawesome/fontawesome-free/css/fontawesome.min.css">


<link rel="alternate" hreflang="sa-Deva" href="https://sanskrit-coders.github.io/tips/py-unicode/" />
<link rel="alternate" hreflang="sa-Deva" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=devanagari" />

<link rel="alternate" hreflang="sa-Knda" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=kannada" />
<link rel="alternate" hreflang="sa-Mlym" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=malayalam" />
<link rel="alternate" hreflang="sa-Telu" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=telugu" />
<link rel="alternate" hreflang="sa-Taml-t-sa-Taml-m0-superscript" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=tamil_superscripted" />
<link rel="alternate" hreflang="sa-Taml" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=tamil" />
<link rel="alternate" hreflang="sa-Gran" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=grantha" />

<link rel="alternate" hreflang="sa-Gujr" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=gujarati" />
<link rel="alternate" hreflang="sa-Guru" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=gurmukhi" />
<link rel="alternate" hreflang="sa-Shar" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=sharada" />
<link rel="alternate" hreflang="sa-Dogr" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=dogra" />
<link rel="alternate" hreflang="sa-Phag" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=phags_pa" />
<link rel="alternate" hreflang="sa-Tibt" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=tibetan" />
<link rel="alternate" hreflang="sa-Sidd" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=siddham" />
<link rel="alternate" hreflang="sa-Newa" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=newa" />
<link rel="alternate" hreflang="sa-Modi" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=modi" />
<link rel="alternate" hreflang="sa-Tirh" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=tirhuta_maithili" />
<link rel="alternate" hreflang="sa-Gong" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=gondi_gujala" />
<link rel="alternate" hreflang="sa-Gonm" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=gondi_masaram" />


<link rel="alternate" hreflang="sa-Orya" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=oriya" />
<link rel="alternate" hreflang="sa-Beng-t-sa-Beng-m0-assamese" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=assamese" />
<link rel="alternate" hreflang="sa-Beng" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=bengali" />
<link rel="alternate" hreflang="sa-Mtei" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=manipuri" />
<link rel="alternate" hreflang="sa-Sinh" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=sinhala" />
<link rel="alternate" hreflang="sa-Limb" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=limbu" />
<link rel="alternate" hreflang="sa-Lepc" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=lepcha" />


<link rel="alternate" hreflang="sa-Cyrl" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=cyrillic" />
<link rel="alternate" hreflang="sa-Latn-t-sa-Zyyy-m0-iso" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=iso" />
<link rel="alternate" hreflang="sa-Latn-t-sa-Zyyy-m0-iast" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=iast" />
<link rel="alternate" hreflang="sa-Aran" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=urdu" />
<link rel="alternate" hreflang="sa-Avst" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=avestan" />

<link rel="alternate" hreflang="sa-Brah" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=brahmi" />
<link rel="alternate" hreflang="sa-Khar" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=kharoshthi" />
<link rel="alternate" hreflang="sa-Zanb" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=zanbazar_square" />
<link rel="alternate" hreflang="sa-Bhks" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=bhaiksuki" />

<link rel="alternate" hreflang="sa-Bali" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=balinese" />
<link rel="alternate" hreflang="sa-Java" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=javanese" />
<link rel="alternate" hreflang="sa-Laoo" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=lao" />
<link rel="alternate" hreflang="sa-Laoo-t-sa-Laoo-m0-Laopali" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=lao_pali" />
<link rel="alternate" hreflang="sa-Mymr" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=burmese" />
<link rel="alternate" hreflang="sa-Mymr-t-sa-Mymr-m0-Mon" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=mon" />
<link rel="alternate" hreflang="sa-Cham" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=cham" />
<link rel="alternate" hreflang="sa-Khmr" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=khmer" />
<link rel="alternate" hreflang="sa-Thai" href="https://sanskrit-coders.github.io/tips/py-unicode/?transliteration_target=thai" />

  </head>

  <body class="ma0 bg-near-white">
    


    
<header class="p-1 bg-yellow noPrint">
    <nav role="navigation" class="col">
      <div id="div_top_bar" class="row">
        <div class="col-md-3 justify-content-start">
          <a  href="/" class="btn col border">
            <i class="fas fa-gopuram ">संस्कृत-साङ्गणकाः Sanskrit Programmers <br/> Py Unicode</i>
          </a>
        </div>
        <div id="div_top_bar_right" class="col-md-auto d-flex justify-content-center">
          <button class="btn btn-light"  href="#transliterationDropdown" data-toggle="collapse">
            ✍
          </button>
          <select id="transliterationDropdown" size="1" class="collapse" onchange="module_uiLib.default.content.updateTransliteration()">
            <optgroup label="🌍">
              <option value="iso">āISO</option>
              <option value="iso_vedic">āi-āu</option>
              <option value="cyrillic">пу</option>
              <option value="urdu">نس</option>
              <option value="??">🌍??</option>
            </optgroup>
            <optgroup label="🛕🧭S">
              <option value="kannada">ಅ</option>
              <option value="malayalam">അ</option>
              <option value="telugu">క</option>
              <option value="tamil_superscripted">க²</option>
              <option value="tamil_extended">க</option>
              <option value="grantha">𑌅</option>
            </optgroup>
            <optgroup label="🛕🧭N">
              <option value="devanagari" selected="">स</option>
              <option value="gujarati">અ</option>
              <option value="gurmukhi">ਅ</option>
            </optgroup>
            <optgroup label="🛕🧭E">
              <option value="oriya">ଅ</option>
              <option value="assamese">অস</option>
              <option value="bengali">অ</option>
            </optgroup>
            <optgroup label="🛕🏺📜">
              <option value="sharada">𑆑𑇀𑆰</option>
              <option value="brahmi">𑀅</option>
            </optgroup>
            <optgroup label="🛕🌋">
              <option value="balinese">ᬩᬮᬶ</option>
            </optgroup>
          </select>
          <div>
          <button class="btn btn-outline-secondary btn-sm"  href="#transliterationDropdownAlt" data-toggle="collapse">
          (✍)
          </button>
          <select id="transliterationDropdownAlt" size="1"  style="font-size:12px" class="bg-light-yellow collapse" onchange="module_uiLib.default.content.updateTransliteration()">
            <optgroup label="🌍">
              <option value="iso">āISO</option>
              <option value="iso_vedic">āi-āu</option>
              <option value="cyrillic">пу</option>
              <option value="urdu">نس</option>
              <option value="??">🌍??</option>
            </optgroup>
            <optgroup label="🛕🧭S">
              <option value="kannada">ಅ</option>
              <option value="malayalam">അ</option>
              <option value="telugu">క</option>
              <option value="tamil_superscripted">க²</option>
              <option value="tamil_extended">க</option>
              <option value="grantha">𑌅</option>
            </optgroup>
            <optgroup label="🛕🧭N">
              <option value="devanagari" selected="">स</option>
              <option value="gujarati">અ</option>
              <option value="gurmukhi">ਅ</option>
            </optgroup>
            <optgroup label="🛕🧭E">
              <option value="oriya">ଅ</option>
              <option value="assamese">অস</option>
              <option value="bengali">অ</option>
            </optgroup>
            <optgroup label="🛕🏺📜">
              <option value="sharada">𑆑𑇀𑆰</option>
              <option value="brahmi">𑀅</option>
            </optgroup>
            <optgroup label="🛕🌋">
              <option value="balinese">ᬩᬮᬶ</option>
            </optgroup>
          </select>
          </div>
          <div class="row col d-flex  dropdown">
            <button class="btn btn-secondary-outline btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              A±
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <a class="btn btn-secondary btn-sm" onclick="module_uiLib.changeTextSize(2)">A+</a>
            <a class="btn btn-secondary btn-sm" onclick="module_uiLib.changeTextSize(-2)">A-</a>
            </div>
          </div>
          <button class="btn btn-light btn-sm"  href="#commentStyleDropdown" data-toggle="collapse">
            🗨
          </button>
          <select id="commentStyleDropdown" class="collapse" size="1" onchange="module_uiLib.default.content.updateCommentStyleFromDropdown()">
            <option value="on">✔</option>
            <option value="hidden">✗</option>
          </select>
          <div><a id="expandAllButton" class="btn btn-secondary" onclick="module_uiLib.default.query.setParamsAndGo({'expandDetails': '.*'})">↕️️</a></div>
          <div id="printStyleDiv" class="row col d-flex  dropdown">
          <button class="btn btn-light btn-sm dropdown-toggle"  href="#printStyleDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          🖨
          </button>
            <div class="dropdown-menu col" aria-labelledby="printStyleDropdown">
              <div class="row justify-content-center">
                <p>Cols:</p>
                <input type="number" min="1" max="10" value="2" step="1" id="tbColumns" style="width: 3ch;"  accesskey="c"/>
              </div>
              <div class="row justify-content-center">
                <p>A±:</p> <input type="text" id="tbBodyFontSize" value="0.4cm" style="width: 6ch;"  accesskey="f"></input>
              </div>
              <div class="row justify-content-center">
                <p>Incl:</p> <input checked type="checkbox" id="tbIncludeStyle" value="on"></input>
                <button id="btnPrintStyle" onclick="module_uiLib.default.content.updatePrintStyle()">🖨
                </button>
              </div>
            </div>
        </div>
        </div>
        <div id="audioDiv" class="row col d-flex  dropdown">
          <button class="btn btn-secondary-outline btn-sm dropdown-toggle" type="button" id="audioDropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            🎧
          </button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a id="speakerButton" class="btn btn-outline-secondary btn-sm" onclick="module_uiLib.default.content.handleSpeakToggle()">⏯</a>
          <button id="speakerPauseButton" class="btn btn-outline-secondary btn-sm">⏸</button>
            <div id="audioOptionsDiv" class="row justify-content-center" >
              <div>
                <p class="lead">Vol</p>
                <input type="range" min="0" max="1" value="1" step="0.1" id="volume" />
                <span id="volume-label" class="ms-2">1</span>
              </div>
              <div class="mx-5">
                <p class="lead">Rate</p>
                <input type="range" min="0.1" max="10" value="1" id="rate" step="0.1" />
                <span id="rate-label" class="ms-2">1</span>
              </div>
              <div>
                <p class="lead">Pitch</p>
                <input type="range" min="0" max="2" value="1" step="0.1" id="pitch" />
                <span id="pitch-label" class="ms-2">1</span>
              </div>
            </div>
          </div>
        </div>
        <a href="https://sanskrit-coders.github.io/search"  class="btn btn-light btn-sm">🥽🔦</a>
        <div class="row col  d-flex justify-content-center">
          <div><a id="previousPage" href="" class="btn btn-secondary">###<i class="fas fa-caret-left"></i></a></div>
          <div ><a id="nextPage" href="" class="btn btn-secondary"><i class="fas fa-caret-right"></i> ### </a></div>
        </div>
        <ul id="top-bar-right-custom" class="list-group list-group-horizontal">
        </ul>
      </div>
    </nav>
</header>

    
    <div class="row" name="contentRow">
      
      <aside class="col-md-3 card border noPrint " id="sidebar">
          <div id="fastSearch">
              <datalist id="pageDataList"></datalist>
              <input id="searchInput" placeholder="शीर्षिकान्विष्यताम्" list="pageDataList" onchange="module_uiLib.default.navigation.pageLoader()">
          </div>
          <details open  class="bg-light-gray" >
              <summary id="sidebarToggleLink" onclick="module_uiLib.default.navigation.sidebarToggleHandler()">
            Menu
              </summary>
              <ul id="sidebarBody" class="list pl2 p-0 bg-yellow">
              </ul>
          </details>
      </aside>
      <main class="col p-3" role="main" data-pagefind-body>
        
<header class='border d-flex justify-content-between'>
    <h1 id="Py Unicode">Py Unicode</h1>
    
    <a id="editLink" class="btn btn-primary noPrint"  href="https://github.com/sanskrit-coders/sanskrit-coders.github.io/edit/hugo-source/content/tips/py-unicode.md"><i class="fas fa-edit"></i></a>
    
</header>
<article>
  <aside id="toc_card" class="card border noPrint ">
    <details id="toc_header">
        <summary>What's in this page?</summary>
      <div id="toc_body" class="p-0">
        
        <ul id="toc_ul" class="list p-0">
        </ul>
      </div>
    </details>
    <div id="progressBarDiv" class="row d-flex justify-content-center">
      🐎💪<progress id="progressLoading" value="0" max="100"> 32% </progress>
    </div>
  </aside>
  <div id="post_content">
  <p>[ Culled from emails by shreevatsa and anubhav. ]</p>
<h2 id="general-tips">General tips</h2>
<ul>
<li>Detailed information
<ul>
<li>You can<a href="http://www.joelonsoftware.com/articles/Unicode.html">read this</a>or the introduction<a href="http://docs.python.org/2/howto/unicode.html">section here</a>to get a rough understanding of the issues involved, as I mentioned before on<a href="https://groups.google.com/d/msg/sanskrit-programmers/ggIxk_R88Es/E0S6NklVZtYJ">this mailing list here</a>.]</li>
<li><a href="http://dafoster.net/articles/2013/06/01/handling-text-correctly/">Handling text correctly</a></li>
<li><a href="http://blog.notdot.net/2010/07/Getting-unicode-right-in-Python">Getting Unicode right in Python</a></li>
</ul>
</li>
<li>When programming in Python, always remain aware of whether a particular object is &ldquo;unicode&rdquo; (code points) or &ldquo;str&rdquo; (bytes).
<ul>
<li>Basically, Unicode code points logically represent a character (like &ldquo;092E: DEVANAGARI LETTER MA&rdquo;), independent of encoding. Python contains both &ldquo;unicode&rdquo; objects that are these, or the C-like representation of the actual bytes used to represent the characters **in some encoding**.</li>
<li>General info: This is like Java&rsquo;s &ldquo;string&rdquo; and &ldquo;bytes&rdquo; types (<a href="http://stackoverflow.com/a/4385653/4958">see here</a>).</li>
</ul>
</li>
</ul>
<h2 id="use-unicode-internally">Use unicode internally</h2>
<ul>
<li>Always use the &ldquo;unicode&rdquo; type internally. So:
<ul>
<li>As soon as you see some input from the external world, decode it immediately [e.g. for a file, the stream of bytes it contains may represent a stream of characters in the &lsquo;utf-8&rsquo; encoding, so decode from the file into &lsquo;unicode&rsquo; characters whenever you read from it], and</li>
</ul>
</li>
<li>To this end, I&rsquo;ve taken to putting<br>
&ldquo;from __future__ import unicode_literals&rdquo;<br>
at the top of my Python programs, so that whenever I write a line of code like<br>
s = &lsquo;hello world&rsquo;<br>
it is equivalent to writing<br>
s = u&rsquo;hello world&rsquo;<br>
That is, so that all literals are interpreted as Unicode by default. This is the default in Python 3.</li>
</ul>
<h2 id="outputting-stuff">Outputting stuff</h2>
<ul>
<li>whenever you write something to output (even &ldquo;standard output&rdquo;), always encode it and write out the actual stream of bytes to the output, so that there can be no confusion.</li>
<li>By using |tee, you’re relying on the shell to handle the encoding issues. That’s bound to end in disaster, unless you understand how your shell handles Unicode.</li>
</ul>
<h2 id="file-input">File input</h2>
<ul>
<li>csv reading:
<ul>
<li>use unicodecsv.reader instead of csv.</li>
<li>Confusingly, it looks like unicodecsv.reader expects the file to be opened in the default encoding, not UTF-8.</li>
</ul>
</li>
</ul>
<h2 id="grapheme-cluster-handling">Grapheme cluster handling</h2>
<ul>
<li>See <a href="http://stackoverflow.com/questions/6805311/playing-around-with-devanagari-characters">here</a>.</li>
</ul>

  </div>
</article>


        

        



    <aside class="card border noPrint" id="section-tree-item-tips_py-unicode_md">
        <div class="card-title bg-light-gray border d-flex justify-content-between">
            <a href="https://sanskrit-coders.github.io/tips/py-unicode/">Py Unicode </a>
            <a data-toggle="collapse" href="#section-tree-item-body-tips_py-unicode_md" role="button" aria-expanded="false" aria-controls="section-tree-item-body-tips_py-unicode_md" >…<i class="fas fa-caret-down" class="collapsed"></i> </a>
        </div>
        <nav id="section-tree-item-body-tips_py-unicode_md" class="card-body p-0 collapse">
            
            <li>draft: false</li>
            
            <li>iscjklanguage: false</li>
            
            <li>title: Py Unicode</li>
            
        </nav>
    </aside>


      </main>
    </div>
    <footer class="bg-yellow  p-1 noPrint" role="contentinfo">
  

  <div id="div_foot_nav_bar" class="row">
    <a href="https://sanskrit-coders.github.io/search"  class="btn btn-light btn-sm">🥽🔦</a>
    <div class="row col  d-flex justify-content-center">
      <div><a id="previousPageFoot" href="" class="btn btn-secondary">###<i class="fas fa-caret-left"></i></a></div>
      <div ><a id="nextPageFoot" href="" class="btn btn-secondary"><i class="fas fa-caret-right"></i> ### </a></div>
    </div>
      <ul id="footer-bar-right-custom" class="list-group list-group-horizontal">
      </ul>
  </div>
  <div id="div_footer_bar" class="container-fluid d-flex justify-content-between">
    <a class="btn btn-secondary" href="https://github.com/sanskrit-coders/sanskrit-coders.github.io/issues/new" >
      ✉️Contact
    </a>
    <a class="btn btn-secondary" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    <div class="btn small border">
      
      <a href="https://github.com/sanskrit-coders/sanskrit-coders.github.io/actions/workflows/build.yml"><img src="https://github.com/sanskrit-coders/sanskrit-coders.github.io/actions/workflows/build.yml/badge.svg"> Built </a> on 2025 Sep 26 15:49:42 UTC. (<a href="http://google.com/search?q=15%3a49%3a42%20UTC to IST">IST</a>)
    </div>
  </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=G-33H08JSLQR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-33H08JSLQR');
</script>

  </body>
  <script type='text/javascript'>
    
    
    
    module_uiLib.onDocumentReadyTasks();
  </script>
  
</html>
